//This module contains the code for the tcp server of arcle share

var net = require('net'),
fs = require('fs'),
stream = require('stream'),
zlib = require('zlib');
progress = require('progress-stream');



var sendFile = function(file,socket){

	socket.on('data',function(data){

		

	})
	var inputStream	= fs.createReadStream(file.path);
	var str = progress({

		length : path.size,
		time : 100

	});
	
	socket.write(file.name+'\0'+file.size+'\0');
	socket.write('\n\n');
	socket.pipe(str).pipe(inputStream);

	str.on('progress',function(progress){

		console.log(progress);

	});

}


module.exports = sendFile;